# 20200616 (화)

## ✓오늘 해야할 일

- 댓글 수정 시 내용 없으면 모달 띄우기
- footer 완성하기
- pagination 추가하기 
- 개개인 Following 추가하기 

<br>

## ✓오늘 구현한 항목

- 댓글 수정 시, content 빈칸으로 보내면 "댓글을 작성해주세요" 경고창 띄우기
- footer 완성
  - 채린, 진환 Github id도 추가 
  - Github 링크는 새 탭으로 들어가게끔 만들었습니다 :)
  - Hover 색깔 적용
- Font (Gugi, Jua,Do Hyeon, Noto Sans KR, Sunflower) 적용 
- 페이지네이션 적용 
- 알고리즘 완성 후 Movie List 페이지 디자인 implementation
  - 좋아요 기반 알고리즘 
  - 회원가입한 후, Recommendaton 페이지에서 좋아요를 누른 후, user를 로딩창으로 안내합니다.
  - 로딩창이 5초후에 꺼지면 Index 페이지로 안내하며, Recommended Movies에 영화가 추가된 상태로 보여집니다.
- DB 업데이트 
  - 오류 (DB가 오류가 났습니다)
    - `django.db.utils.OperationalError: no such table:`
- 영화 리스트 (Recommended Movies, Popular Now, Recent Movies) tooltip 추가
- 리뷰 평점 수정 (치명적 결함 발견)
- 회원가입 후 Recommendation 페이지 버튼 색 (빨간색) 수정 

<br>

## 📝알고리즘을 위한 소비자 조사 정리

- 영화진흥위원회 2015 영화소비자조사
  - 관람 영화 선정 시 고려요인을 살펴보면, 내용/줄거리가 88.8%로 가장 높았으며, 그 다음으로는 장르 84.5%, 배우 72.5%, 관람 동반자의 취향 71.1% 등의 순으로 조사됨
- 영화진흥위원회 2019-06 한국영화 소비자 동향 변화 및 영화 선택과정 분석
  - ◎ ‘최근 10년 간 영화 소비자 동향’ 을 연구하기 위해, ’07년부터 ’16년까지 영화진흥 위원회에서 진행한 ‘영화 소비자 조사’의 자료를 비교 분석함. - ‘영화 선택 요인’은 내용/줄거리를 고려하는 비중이 가장 크고(89.6%), 그 다음으로 영화 장르(81.6%), 주위 평가(70.7%), 배우(69.6%), 관람 동반인 취향(68.4%) 등이 중요한 요인임.
  - 선호하는 영화 장르’를 살펴보면, 극장에서는 영화 장르 중에서 액션이 26.9%로 가장 높고, 그 다음으로 SF/판타지/어드벤처(15.9%), 로맨틱코미디(13.3%), 드라마 (12.4%) 순으로 나타남.
  - ‘선호하는 영화 국적’은 한국이 49.4%로 가장 높고, 그 다음으로 미국이 32.4%로 높 게 나타났으며, 영화의 국적을 고려하지 않는다는 응답은 13.2%로 나타남.

 → 쓰이지 못했습니다... 😥

<br>

## 💡어려웠던 점 및 배운 점

### 새 창으로 전환하기

#### ⭐️배운 점

- a 링크를 사용할 때 현재 페이지에서 이동하는 것이 아니라, 새 페이지로 이동할 수 있도록 만들었습니다.
- `target="_blank"`를 사용하면 현재 페이지에서 이동하는 것이 아닌 새 페이지로 전환됩니다.

<br>

### 페이지네이션

#### ❗️어려웠던 점

- axios를 사용해서 pagination을 적용해 본 경험이 없어 많은 어려움을 겪었습니다.
- 구글링과 다른 사람 코드를 보며 따라 쳐보기도 하였지만, 번번이 실패하였고, 제대로 pagination이 적용되지 않았습니다. 

#### ⭐️배운 점

- pagination을 적용하기 위해 computed와 부모 컴포넌트로 받은 props (Array), data, methods를 이용하였습니다.
- 먼저 부모 컴포넌트로부터 받은 props에 type:Array와 required:true라고 설정해주었습니다.
- computed
  - 부모 컴포넌트로 받은 props를 (데이터)의 길이를 계산하여 총 몇 페이지가 필요한지 계산하였습니다.
  - 또한 현재 page를 카운팅하는 computed와, 각각의 데이터를 slice해서 각 페이지마다 들어가 데이터를 return 시켜주는 computed를 작성했습니다.
- 그리고, 이전 페이지와 다음 페이지로 넘어갈 수 있도록 methods에 this.pageNum += 1 (-=1)을 적용하였습니다.
- 마지막으로 template에서 paginatedData를 v-for을 돌며 데이터를 차례차례 보여주는 식으로 적용하였습니다. 

<br>

### DB 업데이트

#### ❗️어려웠던 점

- DB migration 과정 중 계속 에러가 발생하였다.

#### ⭐️배운 점

- 알고보니 views.py에 모델에 접근하는 코드가 존재해서 table 생성 전에 없는 테이블에 접근해서 발생한 오류였다. 해당 코드를 제거하니 migration이 정상 동작하였다.

<br>

### 평점 기능

#### ❗️어려웠던 점

- 리뷰 평점이 리뷰와 연결되어있지 않은 역설적인 모델에서 이를 해결하기 위해 리뷰 필드에 rank를 추가하였다. 하지만 제대로 적용이 안되고 리뷰 리스트에서 보이는 평점과 실제 평점이 다르게 표시되었다.

#### ⭐️배운 점

- 리뷰를 작성, 수정, 삭제할 경우 user와 movie가 연결된 userrank model을 직접 조작해서 문제를 해결하였다.

<br>

## 📆내일 해야할 항목

- Discussions 게시판 만들기
- Profile 고치기 
  - 현재 다른 유저 페이지에 들어갔다가, 내 페이지로 들어오려고 Profile nav bar 클릭시 동작안됨...ㅠ
- 영상
  - 대본쓰기
  - 오후 1시~2시에는 영상 찍기
  - 편집해서 00시까지 영상 제출하기
- DB 추가
- 배포 시도해보기 

