# 06-12



## ✓오늘 구현한 내용

- 리뷰리스트, 리뷰 디테일 기능만 구현

-  comment create 완성, 리뷰 딜리트 완성

  

### Axios 요청

#### ⭐️배운 점

- get은 요청은 body가 없고, header와 URL이 필요합니다. 

- axios(URL, Header)



### 환경설정

#### ⭐️배운 점

- `.env`와 `.env.local`과 같은 환경설정 파일은 서버가 시작될 때 설정됩니다. 환경변수를 새로 적용하기 위해서는 서버를 다시 실행해야합니다.



### 댓글 작성

#### ❗️어려웠던 점

- 리뷰에 댓글을 작성, 수정, 삭제하는 것을 비동기 요청으로 구현하는 것이 어려웠습니다.

#### ⭐️배운 점

- Javascript를 이용해서 구현하였지만 정석적인 방식이 아니어서 나중에 문제가 될지도 모르겠습니다.





### 검색창

#### ❗️어려웠던 점

- 2시간 동안 동작을 안했는데 서버를 재실행하니까 되었습니다. 환경 변수나 기타 다른 문제였던 것 같습니다.



### 라우터

#### ❗️어려웠던 점

- 뒤로가기나 권한이 필요한 페이지를 로드할 경우 웹페이지가 잘 동작하지 않았습니다. 
- 여러 명이 사용할 수도 있으므로 한 유저가 게시물을 보고 있을 때 작성자가 글을 지울 경우 댓글을 달 수 없으므로 유저에게 '이미 삭제된 게시물입니다.' 라는 메시지를 전해주어야했습니다.

#### 배운 점

- 라우터 설정에 문제가 있어 Vue 공식 문서를 참고하여 라우터 설정을 고쳤습니다.
- `router.beforeEach((to,from,next))`를 활용하여 로그인이 필요한 페이지와 그렇지 않은 페이지로 나누어서 설정했습니다.

- 나중에 시간이 되면 삭제된 게시물 메시지를 설정할 예정입니다.



### 평점 추가

#### ❗️어려웠던 점

- 기존에 있던 모델에 새로운 모델을 추가해야했습니다.
- 평점은 유저와 영화 사이의 관계이지만, 결국 보여지는 것은 유저가 남긴 리뷰였기 때문에 모델 구조를 어떻게 구성할지를 고민했습니다. 

#### ⭐️배운 점

- 영화와 유저를 ManyToMany 필드를 이용하여 연결한 다음 중계모델인 `GenreMovie`를 이용해서 rank 필드를 추가해서 만들었습니다.



### 리뷰 생성

#### ❗️어려웠던 점

- 리뷰 생성과 수정을 같은 URL을 사용해서 만들었습니다.
- 하지만 수정 페이지에서 새로고침을 할 경우 리뷰 페이지로 이동합니다.

#### ⭐️배운 점

- 다른 링크 같은 컴포넌트로 내일 변경시킬 예정입니다.



#### :thought_balloon:느낀 점

- 저장을 확인하지 않고 진행할 경우 에러가 발생하지 않는데 원하는데로 동작하지 않을 수 있습니다. 저장을 생활화합시다.
- Vue template 작성시 반드시 한 개의 element가 있어야하므로 처음 생성할 때 태그를 하나 생성하는 게 좋습니다. 
- Django가 지원하는 admin으로 DB를 쉽게 관리할 수 있습니다.
- Vue와 django 파트를 완전히 분리하는 것은 불가능하므로 데이터를 어떤 방식으로 설정할지가 매우 중요했습니다.





