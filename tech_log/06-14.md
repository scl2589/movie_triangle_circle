# 06_14

### 라우터

#### ❗️어려웠던 점

- 로그인 상태에서 로그인 접속 시 접근이 제한되지 않았습니다.

#### ⭐️배운 점

- router.beforeEach를 이용해서 next(false)로 처리해서 로그인 유저의 로그인페이지 접근을 차단했습니다.



### 데이터 직렬화

#### ❗️어려웠던 점

- 요청받은 데이터를 직렬화해서 응답으로 보내기 위해 serializer를 사용했지만 에러가 발생했습니다.
- 데이터를 직렬화할 때 어떤 가공을 처리하거나 여러 모델의 데이터를 직렬화하기가 어려웠습니다.

#### ⭐️배운 점

- serializer를 하기 위해서는 데이터를 항상 객체로 전송해야하며, 여러 객체를 serializer하기 위해서는 `many=True`옵션을 사용해야만 합니다.

- serializer method field를 이용하여 데이터를 가공해서 직렬화하였고 여러 데이터를 추가할 수 있었습니다.

수정 버튼 막아놓은 거



### 영화 리뷰

#### ❗️어려웠던 점

- 영화에 대한 평점을 한 개로 설정하기로 하였습니다. 기존에 평점을 유저와 영화만을 연결해서 모델링을 하였기 때문에 유저가 쓴 리뷰의 별점에 접근하는 것이 어려웠습니다.
- 리뷰를 수정할 경우 별점 정보를 제공하는것이 어려웠습니다.

#### ⭐️배운 점

- 리뷰와 평점에 oneToone같은 관계를 설정할까 생각했지만 단순하게 리뷰에 평점 필드를 추가하여 값을 저장하기로 했습니다.



### Django ORM

#### ⭐️배운 점

- queryset의 데이터만을 뽑고 싶으면, values_list('value', flat=True)를 사용해서 리스트로 얻을 수 있었습니다.



### 순환참조 에러

### ⭐️배운 점

- 파이썬에서 b.py에서 a.py를 import하고 a.py에서 b.py를 import할 경우 순환 참조 에러가 발생합니다. 이를 해결하기 위해서는 위의 방식의 import를 지양하는 방식으로 코드를 작성해야합니다.



### 내일 할 것

- 사용자 편의성을 위한 enter키 작성

- 경고 메시지 만들기

- scoped 넣기

- 연령대별, 성별에 따른 영화 추천 알고리즘

- 영화 담아두기

- 잘못된 유저명 회원가입 막기\

- 세션만료기능

- 프로필 이미지

  

# 물어볼것

- 데이터 한번에 받아오기

-  methodfield 좋은가?

- 정적 데이터는 어디에 저장시켜놓는가?

- user 어케함?

- 데이터 많으면 어케 처리함?

- sqlite도 tree 같은 거 가능?

- 한번 돌고 두개의 함수에 따로 리턴 가능

- 이상한 유저명 막아야됨

- 서치 기능


